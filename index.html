<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Symvan</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ===================================
         NAVIGATION BAR
         Shared across all main pages
         =================================== -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">Symvan</a>
            <ul class="navbar-menu">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="myevents.html">My Events</a></li>
                <li><a href="enroll.html">Enroll</a></li>
                <li><a href="create-event.html">Create Event</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- ===================================
         DASHBOARD PAGE
         Home page with welcome and quick stats
         =================================== -->
    <div class="container">
        <!-- Welcome Section -->
        <div class="page-header">
            <h1 class="page-title">Welcome to Symvan</h1>
            <p class="page-subtitle">Your campus event management hub</p>
        </div>
        
<!-- Quick Stats change 2 --> 
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-number" id="enrolled-events">0</div>
        <div class="stat-label">Enrolled Events</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-number" id="upcoming-week">0</div>
        <div class="stat-label">Upcoming This Week</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-number" id="events-created">0</div>
        <div class="stat-label">Events Created</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-number" id="total-participants">0</div>
        <div class="stat-label">Total Participants</div>
    </div>
</div>

<script>
async function loadStats() {
    try {
        const response = await fetch('/api/stats');
        const stats = await response.json();

        document.getElementById('enrolled-events').textContent = stats.enrolledEvents;
        document.getElementById('upcoming-week').textContent = stats.upcomingThisWeek;
        document.getElementById('events-created').textContent = stats.eventsCreated;
        document.getElementById('total-participants').textContent = stats.totalParticipants;

    } catch (error) {
        console.error('Error loading stats:', error);
    }
}

document.addEventListener('DOMContentLoaded', loadStats);
</script>

        <!-- Upcoming Events Section change 1-->
<section>
    <h2 class="mb-md">Upcoming Events</h2>
    <div id="event-container" class="grid grid-2">
        <!-- Event cards will be dynamically loaded here -->
    </div>
</section>

<script>
async function loadEvents() {
    try {
        const response = await fetch('/api/events');
        const events = await response.json();

        const container = document.getElementById('event-container');
        container.innerHTML = ''; // clear existing

        events.forEach(event => {
            const card = document.createElement('div');
            card.classList.add('card');
            card.innerHTML = `
                <div class="card-header">
                    <h3 class="card-title">${event.title}</h3>
                    <div class="card-meta">
                        <span class="card-meta-item">üìÖ ${event.date}</span>
                        <span class="card-meta-item">üïê ${event.time}</span>
                        <span class="card-meta-item">üìç ${event.location}</span>
                    </div>
                </div>
                <div class="card-body">
                    <p>${event.description}</p>
                </div>
                <div class="card-footer">
                    <span>${event.attendees} attendees</span>
                    <a href="myevents.html" class="btn btn-primary">View Details</a>
                </div>
            `;
            container.appendChild(card);
        });
    } catch (error) {
        console.error('Error loading events:', error);
    }
}

document.addEventListener('DOMContentLoaded', loadEvents);
</script>

        
        <!-- Quick Actions -->
        <section class="mt-lg">
            <h2 class="mb-md">Quick Actions</h2>
            <div class="grid grid-3">
                <a href="enroll.html" class="btn btn-primary" style="padding: var(--spacing-lg);">
                    Browse All Events
                </a>
                <a href="create-event.html" class="btn btn-outline" style="padding: var(--spacing-lg);">
                    Create New Event
                </a>
                <a href="planning.html" class="btn btn-secondary" style="padding: var(--spacing-lg);">
                    Planning Board
                </a>
            </div>
        </section>
    </div>
</body>
</html>
